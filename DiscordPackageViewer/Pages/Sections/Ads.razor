@page "/ads"
@inject PackageLoaderService Loader
@inject NavigationManager Nav
@inject ToastService Toast

<PageTitle>Ads & Traits â€” Discord Package Viewer</PageTitle>

<div class="content-header">ðŸŽ¯ Ads & Traits</div>
<div class="content-body">
    @if (Loader.Data?.AdTraits is { } traits)
    {
        <h3 class="section-title">Your Ad Profile</h3>
        <p class="section-subtitle">This is what Discord uses for targeted advertising.</p>

        <AdDemographics Traits="traits" />
        <AdTagGroups Traits="traits" />
        <AdIdGroups Traits="traits" />
    }
    else if (Loader.IsLoaded)
    {
        <p class="text-muted">No ad traits data found in the package.</p>
    }
</div>

@code {
    protected override void OnInitialized()
    {
        if (!Loader.IsLoaded)
        {
            Toast.Show("Please load a package first.", ToastLevel.Warning);
            Nav.NavigateTo("/");
        }
    }
}
